<div class="max-w-3xl p-6 mx-auto mt-10 rounded-lg bg-gray-50">
  <h2 class="mb-10 text-4xl font-extrabold text-center dark:text-white">
    Manage Room Types
  </h2>

  <!-- New Room Type Form -->
  <form [formGroup]="newRoomTypeForm" (ngSubmit)="onAddNewRoomType()">
    <div class="grid grid-cols-1 gap-4 mb-6 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5">
      <div>
        <label for="roomTypeName" class="block mb-2 text-sm font-medium">Name</label>
        <input
          id="roomTypeName"
          formControlName="roomTypeName"
          class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50"
        />
      </div>
      <div>
        <label for="numberOfRooms" class="block mb-2 text-sm font-medium">Number of Rooms</label>
        <input
          id="numberOfRooms"
          formControlName="numberOfRooms"
          type="number"
          class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50"
        />
      </div>
      <div>
        <label for="maxNumberOfPersons" class="block mb-2 text-sm font-medium">Max No. of Persons</label>
        <input
          id="maxNumberOfPersons"
          formControlName="maxNumberOfPersons"
          type="number"
          class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50"
        />
      </div>
      <div>
        <label for="price" class="block mb-2 text-sm font-medium">Price</label>
        <input
          id="price"
          formControlName="price"
          type="number"
          class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50"
        />
      </div>
      <div class="col-span-2 lg:col-span-1">
        <label for="roomTypeImages" class="block mb-2 text-sm font-medium">Images</label>
        <div
          class="p-5 border-2 border-gray-300 border-dotted rounded-lg cursor-pointer"
          (click)="triggerFileInput()"
        >
          <div class="flex items-center space-x-2 m-[-12px]">
            <svg
              class="w-6 h-6 text-gray-500 dark:text-gray-400"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1M12 12v6m0 0l-3-3m3 3l3-3m-3-3V4m0 0L9 7m3-3l3 3"
              ></path>
            </svg>
            <span class="text-sm font-medium text-gray-900 dark:text-white">
              Upload
            </span>
          </div>
          <input
            type="file"
            id="roomTypeImages"
            (change)="onFileSelected($event)"
            multiple
            class="hidden"
            accept="image/*"
          />
        </div>
      </div>
      <div class="flex items-end lg:col-span-1">
        <button
          type="submit"
          class="w-full px-4 py-2 font-bold text-white bg-green-500 rounded-lg hover:bg-green-700"
        >
          Add Room Type
        </button>
      </div>
    </div>

    <!-- Image Previews -->
    <div class="flex flex-wrap gap-4 mb-6">
      <div *ngFor="let preview of imagePreviews" class="h-24 overflow-hidden rounded-lg">
        <img [src]="preview" class="object-cover w-24 h-full rounded-lg shadow-lg" />
      </div>
    </div>
  </form>

  <!-- Existing Room Types List -->
  <h3 class="mb-5 text-2xl font-extrabold text-center dark:text-white">Available Room Types</h3>
  <div *ngFor="let roomType of roomTypes" class="p-4 mb-4 border border-gray-300 rounded-lg shadow-md">
    <form [formGroup]="roomType.form" (ngSubmit)="onSubmitRoomTypeDetails(roomType)">
      <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-5">
        <div>
          <label for="roomTypeName" class="block mb-2 text-sm font-medium">Name</label>
          <input
            id="roomTypeName"
            formControlName="roomTypeName"
            class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50"
            readonly
          />
        </div>
        <div>
          <label for="numberOfRooms" class="block mb-2 text-sm font-medium">Number of Rooms</label>
          <input
            id="numberOfRooms"
            formControlName="numberOfRooms"
            type="number"
            class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50"
          />
        </div>
        <div>
          <label for="maxNumberOfPersons" class="block mb-2 text-sm font-medium">Max No. of Persons</label>
          <input
            id="maxNumberOfPersons"
            formControlName="maxNumberOfPersons"
            type="number"
            class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50"
          />
        </div>
        <div>
          <label for="price" class="block mb-2 text-sm font-medium">Price</label>
          <input
            id="price"
            formControlName="price"
            type="number"
            class="w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50"
          />
        </div>
        <div class="col-span-2 lg:col-span-1">
          <label for="newFiles" class="block mb-2 text-sm font-medium">Images</label>
          <div
            class="p-5 border-2 border-gray-300 border-dotted rounded-lg cursor-pointer"
            (click)="triggerFileInput()"
          >
            <div class="flex items-center space-x-2 m-[-12px]">
              <svg
                class="w-6 h-6 text-gray-500 dark:text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1M12 12v6m0 0l-3-3m3 3l3-3m-3-3V4m0 0L9 7m3-3l3 3"
                ></path>
              </svg>
              <span class="text-sm font-medium text-gray-900 dark:text-white">
                Upload
              </span>
            </div>
            <input
              type="file"
              id="newFiles"
              (change)="onFileSelected($event)"
              multiple
              class="hidden"
              accept="image/*"
            />
          </div>
        </div>

        <!-- Display Room Type Images -->
        <div class="flex flex-wrap gap-4 mt-4 col-span-full">
          <div *ngFor="let image of roomType.roomTypeImages" class="h-24 overflow-hidden rounded-lg">
            <img
              [src]="'http://localhost:5000/roomTypeImages/' + image"
              class="object-cover w-24 h-full rounded-lg shadow-lg"
            />
          </div>
        </div>
      </div>
      <div class="flex mt-4 space-x-2">
        <button
          type="submit"
          class="px-4 py-2 text-white bg-green-500 rounded-lg hover:bg-green-600"
        >
          Update
        </button>
        <button
          type="button"
          (click)="onDeleteRoomType(roomType.roomTypeID)"
          class="px-4 py-2 text-white bg-red-500 rounded-lg hover:bg-red-700"
        >
          Delete
        </button>
      </div>
    </form>
  </div>
</div>